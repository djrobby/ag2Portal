<%= render '/layouts/ag2_tech/projectsbreadcrumb' %>
<%= render :partial => '/layouts/searchhead', :locals => { :title => t(".title"), :path => projects_path } %>

<div class="span11">
  <table class="table table-condensed table-striped">
    <thead>
      <tr>
        <th><%= t 'activerecord.attributes.project.id' %></th>
        <th><%= t 'activerecord.attributes.project.name' %></th>
        <th><%= t 'activerecord.attributes.project.company' %></th>
        <th><%= t 'activerecord.attributes.project.office' %></th>
        <th align="center"><%= t 'activerecord.attributes.project.opened_at' %></th>
        <th align="center"><%= t 'activerecord.attributes.project.closed_at' %></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% @projects.each do |project| %>
      <% if project.closed_at.blank? %>
      <tr>
      <% else %>
      <tr class="inactive-row">
      <% end %>
        <td><%= project.id %></td>
        <td><%= link_to project.name, project %></td>
        <td><%= project.company.name unless project.company.blank? %></td>
        <td><%= project.office.name unless project.office.blank? %></td>
        <td align="center"><%= project.opened_at.strftime("%d/%m/%Y") unless project.opened_at.blank? %></td>
        <td align="center"><%= project.closed_at.strftime("%d/%m/%Y") unless project.closed_at.blank? %></td>
        <td> <%= render :partial => '/layouts/crud/edit', :locals => { :model => Project, :path => edit_project_path(project) } %>
        <%= render :partial => '/layouts/crud/delete', :locals => { :model => Project, :path => project, :msg => t("activerecord.models.project.one"), :txt => project.full_name } %> </td>
      </tr>
      <% end %>
    </tbody>
  </table>
  <%= render :partial => '/layouts/pagination', :locals => { :ivar => @projects } %>
  <%= render :partial => '/layouts/crud/new', :locals => { :model => Project, :path => new_project_path, :txt => t(".btn_new") } %>
  <%= link_to t(".back_to_root"), ag2_tech.root_path %>
</div>
